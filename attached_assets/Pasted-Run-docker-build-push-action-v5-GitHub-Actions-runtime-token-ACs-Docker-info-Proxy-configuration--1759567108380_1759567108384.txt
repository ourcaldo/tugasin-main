Run docker/build-push-action@v5
GitHub Actions runtime token ACs
Docker info
Proxy configuration
Buildx version
Builder info
/usr/bin/docker buildx build --cache-from type=gha --cache-to type=gha,mode=max --iidfile /home/runner/work/_temp/docker-actions-toolkit-HkKXmy/build-iidfile-fdba4a0075.txt --label org.opencontainers.image.created=2025-10-04T08:34:23.638Z --label org.opencontainers.image.description= --label org.opencontainers.image.licenses= --label org.opencontainers.image.revision=085e46b193d5e3646fb419473758d54fa0f84deb --label org.opencontainers.image.source=https://github.com/ourcaldo/tugasin-main --label org.opencontainers.image.title=tugasin-main --label org.opencontainers.image.url=https://github.com/ourcaldo/tugasin-main --label org.opencontainers.image.version=main --attest type=provenance,mode=max,builder-id=https://github.com/ourcaldo/tugasin-main/actions/runs/18242027581 --tag ghcr.io/ourcaldo/tugasin-main:main --tag ghcr.io/ourcaldo/tugasin-main:latest --metadata-file /home/runner/work/_temp/docker-actions-toolkit-HkKXmy/build-metadata-42164cb934.json --push .
#0 building with "builder-9635da05-2a23-4408-91ce-ecda8d8649cc" instance using docker-container driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.14kB done
#1 DONE 0.0s

#2 [auth] library/node:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 752B done
#4 DONE 0.0s

#5 [internal] load build context
#5 DONE 0.0s

#6 [deps 1/5] FROM docker.io/library/node:20-alpine@sha256:eabac870db94f7342d6c33560d6613f188bbcf4bbe1f4eb47d5e2a08e1a37722
#6 resolve docker.io/library/node:20-alpine@sha256:eabac870db94f7342d6c33560d6613f188bbcf4bbe1f4eb47d5e2a08e1a37722 done
#6 DONE 0.0s

#7 importing cache manifest from gha:15053015089852568256
#7 DONE 0.1s

#5 [internal] load build context
#5 transferring context: 1.99MB 0.1s done
#5 DONE 0.1s

#6 [deps 1/5] FROM docker.io/library/node:20-alpine@sha256:eabac870db94f7342d6c33560d6613f188bbcf4bbe1f4eb47d5e2a08e1a37722
#6 sha256:0de821d16564893ff12fae9499550711d92157ed1e6705a8c7f7e63eac0a2bb9 449B / 449B 0.0s done
#6 sha256:fd345d7e43c58474c833bee593321ab1097dd720bebd8032e75fbf5b81b1e554 1.26MB / 1.26MB 0.1s done
#6 sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 3.80MB / 3.80MB 0.1s done
#6 extracting sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 0.1s done
#6 sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 5.24MB / 42.75MB 0.2s
#6 sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 42.75MB / 42.75MB 0.3s done
#6 extracting sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82
#6 extracting sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 0.9s done
#6 DONE 1.2s

#6 [deps 1/5] FROM docker.io/library/node:20-alpine@sha256:eabac870db94f7342d6c33560d6613f188bbcf4bbe1f4eb47d5e2a08e1a37722
#6 extracting sha256:fd345d7e43c58474c833bee593321ab1097dd720bebd8032e75fbf5b81b1e554 0.0s done
#6 extracting sha256:0de821d16564893ff12fae9499550711d92157ed1e6705a8c7f7e63eac0a2bb9 done
#6 DONE 1.3s

#8 [deps 2/5] RUN apk add --no-cache libc6-compat
#8 0.096 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/main/x86_64/APKINDEX.tar.gz
#8 ...

#9 [builder 2/6] WORKDIR /app
#9 DONE 0.1s

#10 [runner 3/8] RUN addgroup --system --gid 1001 nodejs
#10 DONE 0.1s

#11 [runner 4/8] RUN adduser --system --uid 1001 nextjs
#11 DONE 0.1s

#8 [deps 2/5] RUN apk add --no-cache libc6-compat
#8 0.178 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/community/x86_64/APKINDEX.tar.gz
#8 0.481 (1/3) Installing musl-obstack (1.2.3-r2)
#8 0.485 (2/3) Installing libucontext (1.3.2-r0)
#8 0.487 (3/3) Installing gcompat (1.1.0-r4)
#8 0.491 OK: 10 MiB in 21 packages
#8 DONE 0.6s

#12 [deps 3/5] WORKDIR /app
#12 DONE 0.0s

#13 [deps 4/5] COPY package.json package-lock.json* ./
#13 DONE 0.0s

#14 [deps 5/5] RUN npm ci
#14 0.493 npm error code EUSAGE
#14 0.494 npm error
#14 0.494 npm error The `npm ci` command can only install with an existing package-lock.json or
#14 0.494 npm error npm-shrinkwrap.json with lockfileVersion >= 1. Run an install with npm@5 or
#14 0.494 npm error later to generate a package-lock.json file, then try again.
#14 0.494 npm error
#14 0.494 npm error Clean install a project
#14 0.494 npm error
#14 0.494 npm error Usage:
#14 0.494 npm error npm ci
#14 0.494 npm error
#14 0.494 npm error Options:
#14 0.494 npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
#14 0.494 npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
#14 0.494 npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
#14 0.494 npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
#14 0.494 npm error [--no-bin-links] [--no-fund] [--dry-run]
#14 0.494 npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
#14 0.494 npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
#14 0.494 npm error
#14 0.494 npm error aliases: clean-install, ic, install-clean, isntall-clean
#14 0.494 npm error
#14 0.494 npm error Run "npm help ci" for more info
#14 0.496 npm error A complete log of this run can be found in: /root/.npm/_logs/2025-10-04T08_34_27_042Z-debug-0.log
#14 ERROR: process "/bin/sh -c npm ci" did not complete successfully: exit code: 1
------
 > [deps 5/5] RUN npm ci:
0.494 npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
0.494 npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
0.494 npm error [--no-bin-links] [--no-fund] [--dry-run]
0.494 npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
0.494 npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
0.494 npm error
0.494 npm error aliases: clean-install, ic, install-clean, isntall-clean
0.494 npm error
0.494 npm error Run "npm help ci" for more info
0.496 npm error A complete log of this run can be found in: /root/.npm/_logs/2025-10-04T08_34_27_042Z-debug-0.log
------
Dockerfile:8
--------------------
   6 |     # Copy package files
   7 |     COPY package.json package-lock.json* ./
   8 | >>> RUN npm ci
   9 |     
  10 |     # Stage 2: Builder
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm ci" did not complete successfully: exit code: 1
Error: buildx failed with: ERROR: failed to build: failed to solve: process "/bin/sh -c npm ci" did not complete successfully: exit code: 1